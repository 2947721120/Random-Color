function randomColor(e){function l(){var t,n=0,r=360,i=[n,r];if(e.hue){if(u.colorDictionary[e.hue]){i=u.colorDictionary[e.hue].hueRange;return u.randomBetween(i,"integer")}if(e.hue.contrasts){console.log("contrasts passed!");if(u.colorDictionary[e.hue.contrasts]){i=u.colorDictionary[e.hue.contrasts].hueRange;i=u.shiftHue(i,r/2);return u.randomBetween(i,"integer")}if(typeof e.hue.contrasts==="number"){return u.shiftHue(e.hue.contrasts,r/2)}}if(typeof e.hue==="number"){if(e.hue<=r&&e.hue>=n){return e.hue}console.log("Pick a hue between"+n+" and  "+r)}if(e.hue==="monochrome"){return 0}}if(randomColor.previousHue){do{t=u.randomBetween(i,"integer")}while(Math.abs(t-randomColor.previousHue)<u.distinctHue);return t}return u.randomBetween(i,"integer")}function c(t){function l(e){n=u.randomBetween(a.sMin,i,"integer");r=u.randomBetween(a.vMin,s,"integer");if(e){console.log("Constraints: s("+a.sMin+", "+i+"), v("+a.vMin+", "+s+")");console.log("Generated: s("+n+"), v("+r+")")}}function c(){return r<f*n+b}var n,r,i,s;var o=u.lookupColorName(t),a=u.colorDictionary[o];if(e.luminosity){if(e.luminosity==="dark"){console.log("dark color requested!!!");s=a.vMin/2+50;i=a.sMin/2+50}if(e.luminosity==="dull"){}if(e.luminosity==="bright"){}}else{s=100;i=100}var f=(100-a.sMin)/(a.vMin-100);b=a.vMin-f*100;do{l()}while(c());if(e.hue==="monochrome"){n=0}return[n,r]}var t,n,r,i,s,o,u=loadUtilities();if(!e){var e={}}if(e.count){var a=[],f=e.count;e.count=false;while(a.length<f){a.push(randomColor(e))}return a}t=l();i=c(t);n=i[0];r=i[1];s=u.hsvRGB(t,n,r);o=u.rgbHex(s);if(e.format==="rgb"){return"rgb("+s[0]+", "+s[1]+", "+s[2]+")"}if(e.format==="rgbArray"){return s}if(e.format==="hsv"){return"hsv("+t+", "+n+", "+r+")"}if(e.format==="hsvArray"){return[t,n,r]}if(e.debug){console.log("Input options: ");console.log(e);console.log("Output: ");console.log("HSV: "+t+", "+n+", "+r);console.log("RGB: "+s);console.log("Hex: "+o)}randomColor.previousHue=t;return o}function loadUtilities(){return{goldenRatio:.61803398874989,distinctHue:40,colorDictionary:{red:{hueRange:[-26,18],sMin:47,vMin:70},orange:{hueRange:[18,46],sMin:40,vMin:83},yellow:{hueRange:[46,66],sMin:35,vMin:90},green:{hueRange:[66,168],sMin:65,vMin:65},blue:{hueRange:[168,258],sMin:48,vMin:45},purple:{hueRange:[258,282],sMin:38,vMin:55},pink:{hueRange:[282,334],sMin:40,vMin:90}},parseHueValue:function(e){function r(e){if(e.toString().split(".")[1].length>0){if(e>1){}}}if(typeof e==="object"){if(e.length===3){return}}if(typeof e==="number"){r(e)}if(typeof e==="string"){if(typeof parseInt(e)==="number"){return r(parseInt(e))}if(e.charAt(0)==="#"&e.length<7){}if(e.slice(0,4)==="rgb("){var t=e.slice(4,-1).split(",");for(var n in t){t[n]=parseInt(t[n]);return}}}return h},lookupColorName:function(e){if(e>334&&e<360){e-=360}for(var t in this.colorDictionary){color=this.colorDictionary[t];if(e>=color.hueRange[0]&&e<=color.hueRange[1]){return t}}return"Color not found"},randomBetween:function(e,t,n){if(typeof e==="object"){var n=t,t=e[1],e=e[0]}var r=e+Math.random()*(t-e);if(n){return Math.floor(r)}return r},randomPick:function(e){return e[Math.floor(Math.random()*e.length)]},shiftHue:function(e,t){if(typeof e==="object"){for(var n in e){(e[n]+=t)%360}}else if(typeof e==="number"){(e[n]+=t)%360}return e},rgbHex:function(e){function t(e){var t=e.toString(16);return t.length==1?"0"+t:t}return"#"+t(e[0])+t(e[1])+t(e[2])},hexRGB:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null},rgbHSV:function(e,t,n){e/=255;t/=255;n/=255;var r=Math.min.apply(Math,[e,t,n]),i=Math.max.apply(Math,[e,t,n]);var s,o,u=r;var a=r-i;o=r===0?0:a/r;if(r==i){s=0}else{switch(r){case e:s=(t-n)/a+(t<n?6:0);break;case t:s=(n-e)/a+2;break;case n:s=(e-t)/a+4;break}s/=6}return[s,o,u]},hsvRGB:function(e,t,n){var e=e/360,t=t/100,n=n/100;var r=Math.floor(e*6),i=e*6-r,s=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),a=255,f=255,l=255;switch(r){case 0:a=n,f=u,l=s;break;case 1:a=o,f=n,l=s;break;case 2:a=s,f=n,l=u;break;case 3:a=s,f=o,l=n;break;case 4:a=u,f=s,l=n;break;case 5:a=n,f=s,l=o;break}return[Math.floor(a*256),Math.floor(f*256),Math.floor(l*256)]}}}